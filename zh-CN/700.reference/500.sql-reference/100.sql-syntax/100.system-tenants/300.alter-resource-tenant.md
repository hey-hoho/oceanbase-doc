# ALTER RESOURCE TENANT

## 描述

当资源池已分配给租户后，如果要修改资源池配置中的 `UNIT_NUM`，需要使用 `ALTER RESOURCE TENANT` 语句。

如果要修改资源池的其他属性，需要使用 `ALTER RESOURCE POOL` 语句，有关 `ALTER RESOURCE POOL` 语句的详细介绍，请参见 [ALTER RESOURCE POOL](300.alter-resource-pool.md)。

## 使用限制及注意事项

* `ALTER RESOURCE TENANT` 语句修改的是租户下所有资源池的 Unit 个数。

* 使用 `ALTER RESOURCE TENANT` 语句执行租户的扩缩容操作前，需要为该租户设置负载均衡策略，否则可能会导致扩缩容失败。为租户设置负载均衡策略的详细操作及说明，请参见 [通过调整 Unit Number 实现租户扩缩容](../../../../600.manage/200.tenant-management/600.common-tenant-operations/800.tenant-scale-in-and-out/300.adjust-unit-number.md)。

## 语法

```sql
ALTER RESOURCE TENANT tenant_name UNIT_NUM [=] unit_num [ DELETE UNIT_GROUP = ( unit_group_id_list ) ]; 
```

## 参数解释

|  **参数**         |   **描述**                                                                                      |
|-------------------|-------------------------------------------------------------------------------------------------|
| tenant_name       | 待修改资源池配置的租户名称。                                                                       |
| unit_num          | 修改租户下所有资源池的 Unit 个数。增加 `UNIT_NUM` 时，其值需要小于或等于目标 Zone 内节点的个数。                              |
| unit_group_id_list | 仅用于缩容场景。减小 `unit_num` 时，使用 `DELETE UNIT_GROUP` 可以删除指定的 Unit GROUP。如果不指定 `DELETE UNIT_GROUP`，系统将随机删除相应个数的 Unit Group。 |

## 示例

* 将租户 `tenant1` 下所有资源池的 Unit 个数修改为 3。

  ```sql
  obclient [oceanbase]> ALTER RESOURCE TENANT tenant1 UNIT_NUM = 3;
  ```

* 缩容场景下，删除租户 `tenant2` 下 `UNIT_GROUP_ID` 为 `1002` 和 `1003` 的两个 Unit Group。
  
  ```shell
  obclient [oceanbase]> ALTER RESOURCE TENANT tenant2 UNIT_NUM = 1 DELETE UNIT_GROUP (1002, 1003);
  ```

## 相关文档

* [通过调整 Unit Number 实现租户扩缩容](../../../../600.manage/200.tenant-management/600.common-tenant-operations/800.tenant-scale-in-and-out/300.adjust-unit-number.md)

* [ALTER TENANT](500.alter-tenant.md)