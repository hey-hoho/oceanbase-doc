|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# oceanbase.DBA_WR_SQLTEXT

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.2.2 版本开始引入。</p>
</main>

## 功能描述

视图 `DBA_WR_SQLTEXT` 用于展示本租户 WR 采集的 SQL 文本。

## 字段说明

| **字段名称** | **类型**  | **是否可以为 NULL** | **描述**                               |
|------------|-------------|---------------------|----------------------------------------|
| SNAP_ID   | bigint(20)  | NO   |  快照 ID   |
| SQL_ID    | varchar(32) | NO   |  SQL 语句的 ID      |
| QUERY_SQL | longtext    | NO   |  SQL 文本      |
| SQL_TYPE  | bigint(20)  | NO   |  语句类型      |

视图中 `SQL_TYPE` 列的值及对应的语句如下表所示。

| **数字** | **语句类型**                        | **数字** | **语句类型**                           |
|----------|-------------------------------------|----------|----------------------------------------|
|  1       | SELECT                              | 2        |  INSERT                                |
|  3       | REPLACE                             | 4        |  DELETE                                |
|  5       | UPDATE                              | 6        |  MERGE                                |
|  7       | EXPLAIN                             |  8       |  CREATE TENANT             |
| 9        | DROP TENANT                         | 10       |  LOCK TENANT               |
| 11       | MODIFY TENANT                       | 12       |  CHANGE TENANT                        |
| 13       | CREATE RESOURCE POOL                | 14       |  DROP RESOURCE POOL        |
| 15       | ALTER RESOURCE POOL                 | 16       |  SPLIT RESOURCE POOL       |
| 17       | CREATE RESOURCE UNIT                | 18       |  ALTER RESOURCE UNIT        |
| 19       | DROP_RESOURCE_UNIT                  | 20       |  CREATE_TABLE               |
| 21       | DROP_TABLE                          | 22       |  ALTER_TABLE                |
| 23       | CREATE_INDEX                        | 24       |  DROP_INDEX              |
| 25       | CREATE_VIEW                         | 26       |  ALTER_VIEW              |
| 27       | DROP_VIEW                           | 28       |  HELP                    |
| 29       | SHOW_TABLES                         | 30       |  SHOW_DATABASES          |
| 31       | SHOW_COLUMNS                        | 32       |  SHOW_VARIABLES          |
| 33       | SHOW_TABLE                          | 34       |  SHOW_SCHEMA             |
| 35       | SHOW_CREATE_DATABASE                | 36       |  SHOW_CREATE_TABLE       |
| 37       | SHOW_CREATE_VIEW                    | 38       |  SHOW CREATE_PROCEDURE        |
| 39       | SHOW_CREATE_FUNCTION                | 40       |  SHOW_PARAMETERS           |
| 41       | SHOW_SERVER_STATUS                  | 42       |  SHOW_INDEXES              |
| 43       | SHOW_WARNINGS                       | 44       |  SHOW_ERRORS               |
| 45       | SHOW_PROCESSLIST                    | 46       |  SHOW_CHARSET              |
| 47       | SHOW_COLLATION                      | 48       |  SHOW_TABLEGROUPS          |
| 49       | SHOW_STATUS                         | 50       |  SHOW_TENANT               |
| 51       | SHOW_CREATE_TENANT                  | 52       |  SHOW_TRACE                  |
| 53       | SHOW_ENGINES                        | 54       |  SHOW_PRIVILEGES            |
| 55       | SHOW_PROCEDURE_STATUS               | 56       |  SHOW_FUNCTION_STATUS       |
| 57       | SHOW_GRANTS                         | 58       |  CREATE_USER                |
| 59       | DROP_USER                           | 60       |  SET_PASSWORD               |
| 61       | LOCK_USER                           | 62       |  RENAME_USER                |
| 63       | GRANT                               | 64       |  REVOKE                      |
| 65       | PREPARE                             | 66       |  ALTER_SYSTEM SET            |--?
| 67       | EXECUTE                             | 68       |  DEALLOCATE                  |
| 69       | START_TRANS                         | 70       |  END_TRANS                   |
| 71       | KILL                                | 72       |  ALTER_SYSTEM                |
| 73       | ALTER_SYSTEM_SETTP                  | 74       |  CHANGE_OBI                  |
| 75       | SWITCH_MASTER                       | 76       |  SERVER_ACTION                |
| 77       | BOOTSTRAP                           | 78       |  CS_DISKMAINTAIN              |
| 79       | TABLET_CMD                          | 80       |  REPORT_REPLICA               |
| 81       | SWITCH_ROOTSERVER                   | 82       |  SWITCH_UPDATESERVER           |
| 83       | CLUSTER_MANAGER                     | 84       |  FREEZE                        |
| 85       | FLUSH_CACHE                         | 86       |  FLUSH_KVCACHE                 |
| 87       | FLUSH_ILOGCACHE                     | 88       |  DROP_MEMTABLE                 |
| 89       | CLEAR_MEMTABLE                      | 90       |  PRINT_ROOT_TABLE              |
| 91       | ADD_UPDATESERVER                    | 92       |  DELETE_UPDATESERVER           |
| 93       | CHECK_ROOT_TABLE                    | 94       |  CLEAR_ROOT_TABLE              |
| 95  | | 96 | |
| 97  | | 98 | |
| 99  | | 100 | |
| 101       | SELECT                              | 102        |  INSERT                                |
| 103       | REPLACE                             | 104        |  DELETE                                |
| 105       | UPDATE                              | 106        |  MERGE                                |
| 107       | EXPLAIN                             | 108       |  CREATE TENANT             |
| 109        | DROP TENANT                         | 110       |  LOCK TENANT               |
| 111       | MODIFY TENANT                       | 112       |                            |
| 113  | | 114| |
| 115  | | 116 | |
| 117  | | 118 | |
| 119  | | 120 | |
| 121  | | 122 | |
| 123  | | 124 | |
| 125  | | 126  | |
| 127  | | 128  | |
| 129  | | 130 | |
| 131  | | 132| |
| 133  | | 134 | |
| 135  | | 136 | |
| 137  | | 138 | |
| 139  | | 140 | |
| 141  | | 142 | |
| 143  | | 144 | |
| 145  | | 146 | |
| 147  | | 148 | |
| 149  | | 150 | |
| 151  | | 152 | |
| 153  | | 154 | |
| 155  | | 156 | |
| 157  | | 158 | |
| 159  | | 160 | |
| 161  | | 162 | |
| 163  | | 164 | |
| 165  | | 166 | |
| 167  | | 168 | |
| 169  | | 170 | |
| 171  | | 172 | |
| 173  | | 174 | |
| 175  | | 176 | |
| 177  | | 178 | |
| 179  | | 180 | |
| 181  | | 182 | |
| 183  | | 184 | |
| 185  | | 186 | |
| 187  | | 188 | |
| 189  | | 190 | |
| 191  | | 192 | |
| 193  | | 194 | |
| 195  | | 196 | |
| 197  | | 198 | |
| 199  | | 200 | |
| 201       | SELECT                              | 202        |  INSERT                                |
| 203       | REPLACE                             | 204        |  DELETE                                |
| 205       | UPDATE                              | 206        |  MERGE                                |
| 207       | EXPLAIN                             | 208       |  CREATE TENANT             |
| 209        | DROP TENANT                        | 210       |  LOCK TENANT               |
| 211       | MODIFY TENANT                       | 212       |                            |
| 213  | | 214| |
| 215  | | 216 | |
| 217  | | 218 | |
| 219  | | 220 | |
| 221  | | 222 | |
| 223  | | 224 | |
| 225  | | 226  | |
| 227  | | 228  | |
| 229  | | 230 | |
| 231  | | 232| |
| 233  | | 234 | |
| 235  | | 236 | |
| 237  | | 238 | |
| 239  | | 240 | |
| 241  | | 242 | |
| 243  | | 244 | |
| 245  | | 246 | |
| 247  | | 248 | |
| 249  | | 250 | |
| 251  | | 252 | |
| 253  | | 254 | |
| 255  | | 256 | |
| 257  | | 258 | |
| 259  | | 260 | |
| 261  | | 262 | |
| 263  | | 264 |
| 265  | | 266 | |
| 267  | | 268 | |
| 269  | | 270 | |
| 271  | | 272 | |
| 273  | | 274 | |
| 275  | | 276 | |
| 277  | | 278 | |
| 279  | | 280 | |
| 281  | | 282 | |
| 283  | | 284 | |
| 285  | | 286 | |
| 287  | | 288 | |
| 289  | | 290 | |
| 291  | | 292 | |
| 293  | | 294 | |
| 295  | | 296 | |

## 查询示例

```sql
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_WR_SQLTEXT LIMIT 1;
```

## 相关视图或文档

[oceanbase.CDB_WR_SQLTEXT](28800.cdb_wr_sqltext-of-sys-tenant.md)
